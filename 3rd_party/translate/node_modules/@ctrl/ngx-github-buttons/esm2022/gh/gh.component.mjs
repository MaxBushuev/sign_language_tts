/* eslint-disable max-len */
import { Component, Input } from '@angular/core';
import { getRepo, getUser } from '../util';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "./gh-counter.component";
class GhButtonComponent {
    /** GitHub username that owns the repo */
    user;
    /** GitHub repository to pull the forks and watchers counts */
    repo;
    /** Type of button to show */
    type = 'star';
    /** Show the optional watchers or forks count */
    count = false;
    /** Use the github logo as the icon */
    standardIcon = false;
    /** Specifies where to open the linked github URL. */
    target = '_self'; // Opens the linked document in the full body of the window
    text = '';
    buttonHref = '';
    counterHref = '';
    counter;
    counterLabel = '';
    countAttr = '';
    ngOnChanges() {
        this.text = 'Star';
        this.countAttr = 'stargazers_count';
        this.counterLabel = ' stargazers';
        this.buttonHref = 'https://github.com/' + this.user + '/' + this.repo;
        this.counterHref = 'https://github.com/' + this.user + '/' + this.repo + '/stargazers';
        if (this.count && this.user && this.type !== 'download') {
            this.fetch();
        }
    }
    fetch() {
        let sub;
        if (this.type === 'follow') {
            sub = getUser(this.user);
        }
        else {
            if (!this.repo) {
                return;
            }
            sub = getRepo(this.user, this.repo);
        }
        sub.then(d => this.callback(d));
    }
    callback(data) {
        this.counter = data[this.countAttr ?? ''];
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.0.1", ngImport: i0, type: GhButtonComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.0.1", type: GhButtonComponent, selector: "gh-button", inputs: { user: "user", repo: "repo", type: "type", count: "count", standardIcon: "standardIcon", target: "target" }, usesOnChanges: true, ngImport: i0, template: `
    <div class="gh-wrapper">
      <a
        [href]="buttonHref"
        class="gh-btn"
        [attr.aria-label]="text + ' on GitHub'"
        [target]="target"
      >
        <svg
          version="1.1"
          width="16"
          height="16"
          viewBox="0 0 16 16"
          class="gh-octicon"
          aria-hidden="true"
        >
          <path
            fill-rule="evenodd"
            d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z"
          ></path>
        </svg>
        <span> {{ text }}</span>
      </a>
      <ng-template [ngIf]="count && counter !== undefined">
        <gh-counter
          [count]="counter"
          [counterLabel]="counterLabel"
          [counterHref]="counterHref"
        ></gh-counter>
      </ng-template>
    </div>
  `, isInline: true, styles: [":host{display:inline-block}.gh-wrapper{display:flex;align-items:center}.gh-btn{display:inline-block;list-style-type:none;tab-size:4!important;box-sizing:border-box;font:inherit;margin:0;overflow:visible;text-transform:none;font-family:inherit;position:relative;font-weight:500;white-space:nowrap;vertical-align:middle;cursor:pointer;-webkit-user-select:none;user-select:none;border:1px solid;border-radius:6px;-webkit-appearance:none;color:#24292e;border-color:#1b1f2326;padding:3px 12px;font-size:12px;line-height:20px;text-decoration:none;background-color:#fafbfc;transition:none;z-index:1;outline:none;box-shadow:none}.gh-btn:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.gh-btn:hover{text-decoration:none;background-color:#f3f4f6;transition-duration:.1s}.gh-btn:focus{border-color:#1b1f2333}.gh-btn:active{background-color:#e9ecef;background-image:none}.gh-octicon{list-style-type:none;font:inherit;text-transform:none;font-family:inherit;font-weight:500;white-space:nowrap;cursor:pointer;-webkit-user-select:none;user-select:none;font-size:12px;line-height:20px;tab-size:4!important;height:16;width:16;box-sizing:border-box;display:inline-block;fill:currentColor;overflow:hidden;color:#6a737d;vertical-align:text-top;margin-right:0}\n"], dependencies: [{ kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i2.GhCounterComponent, selector: "gh-counter", inputs: ["count", "counterLabel", "counterHref"] }] });
}
export { GhButtonComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.0.1", ngImport: i0, type: GhButtonComponent, decorators: [{
            type: Component,
            args: [{ selector: 'gh-button', template: `
    <div class="gh-wrapper">
      <a
        [href]="buttonHref"
        class="gh-btn"
        [attr.aria-label]="text + ' on GitHub'"
        [target]="target"
      >
        <svg
          version="1.1"
          width="16"
          height="16"
          viewBox="0 0 16 16"
          class="gh-octicon"
          aria-hidden="true"
        >
          <path
            fill-rule="evenodd"
            d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z"
          ></path>
        </svg>
        <span> {{ text }}</span>
      </a>
      <ng-template [ngIf]="count && counter !== undefined">
        <gh-counter
          [count]="counter"
          [counterLabel]="counterLabel"
          [counterHref]="counterHref"
        ></gh-counter>
      </ng-template>
    </div>
  `, styles: [":host{display:inline-block}.gh-wrapper{display:flex;align-items:center}.gh-btn{display:inline-block;list-style-type:none;tab-size:4!important;box-sizing:border-box;font:inherit;margin:0;overflow:visible;text-transform:none;font-family:inherit;position:relative;font-weight:500;white-space:nowrap;vertical-align:middle;cursor:pointer;-webkit-user-select:none;user-select:none;border:1px solid;border-radius:6px;-webkit-appearance:none;color:#24292e;border-color:#1b1f2326;padding:3px 12px;font-size:12px;line-height:20px;text-decoration:none;background-color:#fafbfc;transition:none;z-index:1;outline:none;box-shadow:none}.gh-btn:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.gh-btn:hover{text-decoration:none;background-color:#f3f4f6;transition-duration:.1s}.gh-btn:focus{border-color:#1b1f2333}.gh-btn:active{background-color:#e9ecef;background-image:none}.gh-octicon{list-style-type:none;font:inherit;text-transform:none;font-family:inherit;font-weight:500;white-space:nowrap;cursor:pointer;-webkit-user-select:none;user-select:none;font-size:12px;line-height:20px;tab-size:4!important;height:16;width:16;box-sizing:border-box;display:inline-block;fill:currentColor;overflow:hidden;color:#6a737d;vertical-align:text-top;margin-right:0}\n"] }]
        }], propDecorators: { user: [{
                type: Input
            }], repo: [{
                type: Input
            }], type: [{
                type: Input
            }], count: [{
                type: Input
            }], standardIcon: [{
                type: Input
            }], target: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2guY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xpYi9naC9naC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsNEJBQTRCO0FBQzVCLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFhLE1BQU0sZUFBZSxDQUFDO0FBRTVELE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sU0FBUyxDQUFDOzs7O0FBRTNDLE1BbUhhLGlCQUFpQjtJQUM1Qix5Q0FBeUM7SUFDaEMsSUFBSSxDQUFVO0lBQ3ZCLDhEQUE4RDtJQUNyRCxJQUFJLENBQVU7SUFDdkIsNkJBQTZCO0lBQ3BCLElBQUksR0FBZ0UsTUFBTSxDQUFDO0lBQ3BGLGdEQUFnRDtJQUN2QyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3ZCLHNDQUFzQztJQUM3QixZQUFZLEdBQUcsS0FBSyxDQUFDO0lBQzlCLHFEQUFxRDtJQUM1QyxNQUFNLEdBSUYsT0FBTyxDQUFDLENBQUMsMkRBQTJEO0lBQ2pGLElBQUksR0FBRyxFQUFFLENBQUM7SUFDVixVQUFVLEdBQUcsRUFBRSxDQUFDO0lBQ2hCLFdBQVcsR0FBRyxFQUFFLENBQUM7SUFDakIsT0FBTyxDQUFVO0lBQ2pCLFlBQVksR0FBRyxFQUFFLENBQUM7SUFDbEIsU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUVmLFdBQVc7UUFDVCxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQztRQUNuQixJQUFJLENBQUMsU0FBUyxHQUFHLGtCQUFrQixDQUFDO1FBQ3BDLElBQUksQ0FBQyxZQUFZLEdBQUcsYUFBYSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxVQUFVLEdBQUcscUJBQXFCLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUN0RSxJQUFJLENBQUMsV0FBVyxHQUFHLHFCQUFxQixHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsYUFBYSxDQUFDO1FBRXZGLElBQUksSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssVUFBVSxFQUFFO1lBQ3ZELElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUNkO0lBQ0gsQ0FBQztJQUNELEtBQUs7UUFDSCxJQUFJLEdBQWlCLENBQUM7UUFDdEIsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFFBQVEsRUFBRTtZQUMxQixHQUFHLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMxQjthQUFNO1lBQ0wsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUU7Z0JBQ2QsT0FBTzthQUNSO1lBQ0QsR0FBRyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNyQztRQUNELEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUNELFFBQVEsQ0FBQyxJQUFTO1FBQ2hCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksRUFBRSxDQUFDLENBQUM7SUFDNUMsQ0FBQzt1R0FqRFUsaUJBQWlCOzJGQUFqQixpQkFBaUIsNExBakhsQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQStCVDs7U0FrRlUsaUJBQWlCOzJGQUFqQixpQkFBaUI7a0JBbkg3QixTQUFTOytCQUNFLFdBQVcsWUFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQStCVDs4QkFvRlEsSUFBSTtzQkFBWixLQUFLO2dCQUVHLElBQUk7c0JBQVosS0FBSztnQkFFRyxJQUFJO3NCQUFaLEtBQUs7Z0JBRUcsS0FBSztzQkFBYixLQUFLO2dCQUVHLFlBQVk7c0JBQXBCLEtBQUs7Z0JBRUcsTUFBTTtzQkFBZCxLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25DaGFuZ2VzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IGdldFJlcG8sIGdldFVzZXIgfSBmcm9tICcuLi91dGlsJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZ2gtYnV0dG9uJyxcbiAgdGVtcGxhdGU6IGBcbiAgICA8ZGl2IGNsYXNzPVwiZ2gtd3JhcHBlclwiPlxuICAgICAgPGFcbiAgICAgICAgW2hyZWZdPVwiYnV0dG9uSHJlZlwiXG4gICAgICAgIGNsYXNzPVwiZ2gtYnRuXCJcbiAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJ0ZXh0ICsgJyBvbiBHaXRIdWInXCJcbiAgICAgICAgW3RhcmdldF09XCJ0YXJnZXRcIlxuICAgICAgPlxuICAgICAgICA8c3ZnXG4gICAgICAgICAgdmVyc2lvbj1cIjEuMVwiXG4gICAgICAgICAgd2lkdGg9XCIxNlwiXG4gICAgICAgICAgaGVpZ2h0PVwiMTZcIlxuICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMTYgMTZcIlxuICAgICAgICAgIGNsYXNzPVwiZ2gtb2N0aWNvblwiXG4gICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICBmaWxsLXJ1bGU9XCJldmVub2RkXCJcbiAgICAgICAgICAgIGQ9XCJNOCAuMjVhLjc1Ljc1IDAgMDEuNjczLjQxOGwxLjg4MiAzLjgxNSA0LjIxLjYxMmEuNzUuNzUgMCAwMS40MTYgMS4yNzlsLTMuMDQ2IDIuOTcuNzE5IDQuMTkyYS43NS43NSAwIDAxLTEuMDg4Ljc5MUw4IDEyLjM0N2wtMy43NjYgMS45OGEuNzUuNzUgMCAwMS0xLjA4OC0uNzlsLjcyLTQuMTk0TC44MTggNi4zNzRhLjc1Ljc1IDAgMDEuNDE2LTEuMjhsNC4yMS0uNjExTDcuMzI3LjY2OEEuNzUuNzUgMCAwMTggLjI1em0wIDIuNDQ1TDYuNjE1IDUuNWEuNzUuNzUgMCAwMS0uNTY0LjQxbC0zLjA5Ny40NSAyLjI0IDIuMTg0YS43NS43NSAwIDAxLjIxNi42NjRsLS41MjggMy4wODQgMi43NjktMS40NTZhLjc1Ljc1IDAgMDEuNjk4IDBsMi43NyAxLjQ1Ni0uNTMtMy4wODRhLjc1Ljc1IDAgMDEuMjE2LS42NjRsMi4yNC0yLjE4My0zLjA5Ni0uNDVhLjc1Ljc1IDAgMDEtLjU2NC0uNDFMOCAyLjY5NHYuMDAxelwiXG4gICAgICAgICAgPjwvcGF0aD5cbiAgICAgICAgPC9zdmc+XG4gICAgICAgIDxzcGFuPiB7eyB0ZXh0IH19PC9zcGFuPlxuICAgICAgPC9hPlxuICAgICAgPG5nLXRlbXBsYXRlIFtuZ0lmXT1cImNvdW50ICYmIGNvdW50ZXIgIT09IHVuZGVmaW5lZFwiPlxuICAgICAgICA8Z2gtY291bnRlclxuICAgICAgICAgIFtjb3VudF09XCJjb3VudGVyXCJcbiAgICAgICAgICBbY291bnRlckxhYmVsXT1cImNvdW50ZXJMYWJlbFwiXG4gICAgICAgICAgW2NvdW50ZXJIcmVmXT1cImNvdW50ZXJIcmVmXCJcbiAgICAgICAgPjwvZ2gtY291bnRlcj5cbiAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgPC9kaXY+XG4gIGAsXG4gIHN0eWxlczogW1xuICAgIGBcbiAgICAgIDpob3N0IHtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgfVxuICAgICAgLmdoLXdyYXBwZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgfVxuICAgICAgLmdoLWJ0biB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICAgICAgICB0YWItc2l6ZTogNCAhaW1wb3J0YW50O1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICBmb250OiBpbmhlcml0O1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgICAgICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQ7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICAgICAgICBjb2xvcjogIzI0MjkyZTtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDI3LCAzMSwgMzUsIDAuMTUpO1xuICAgICAgICBwYWRkaW5nOiAzcHggMTJweDtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYmZjO1xuICAgICAgICB0cmFuc2l0aW9uOiBub25lO1xuICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICBib3gtc2hhZG93OiBub25lO1xuICAgICAgfVxuICAgICAgLmdoLWJ0bjpub3QoOmxhc3QtY2hpbGQpIHtcbiAgICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7XG4gICAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwO1xuICAgICAgfVxuICAgICAgLmdoLWJ0bjpob3ZlciB7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YzZjRmNjtcbiAgICAgICAgdHJhbnNpdGlvbi1kdXJhdGlvbjogMC4xcztcbiAgICAgIH1cbiAgICAgIC5naC1idG46Zm9jdXMge1xuICAgICAgICBib3JkZXItY29sb3I6IHJnYmEoMjcsIDMxLCAzNSwgMC4yKTtcbiAgICAgIH1cbiAgICAgIC5naC1idG46YWN0aXZlIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZWNlZjtcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogbm9uZTtcbiAgICAgIH1cbiAgICAgIC5naC1vY3RpY29uIHtcbiAgICAgICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICAgICAgICBmb250OiBpbmhlcml0O1xuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgICAgICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gICAgICAgIHRhYi1zaXplOiA0ICFpbXBvcnRhbnQ7XG4gICAgICAgIGhlaWdodDogMTY7XG4gICAgICAgIHdpZHRoOiAxNjtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICBmaWxsOiBjdXJyZW50Q29sb3I7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIGNvbG9yOiAjNmE3MzdkO1xuICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC10b3A7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMDtcbiAgICAgIH1cbiAgICBgLFxuICBdLFxufSlcbmV4cG9ydCBjbGFzcyBHaEJ1dHRvbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uQ2hhbmdlcyB7XG4gIC8qKiBHaXRIdWIgdXNlcm5hbWUgdGhhdCBvd25zIHRoZSByZXBvICovXG4gIEBJbnB1dCgpIHVzZXIhOiBzdHJpbmc7XG4gIC8qKiBHaXRIdWIgcmVwb3NpdG9yeSB0byBwdWxsIHRoZSBmb3JrcyBhbmQgd2F0Y2hlcnMgY291bnRzICovXG4gIEBJbnB1dCgpIHJlcG8hOiBzdHJpbmc7XG4gIC8qKiBUeXBlIG9mIGJ1dHRvbiB0byBzaG93ICovXG4gIEBJbnB1dCgpIHR5cGU6ICdmb2xsb3cnIHwgJ3dhdGNoJyB8ICdzdGFyJyB8ICdmb3JrJyB8ICdpc3N1ZScgfCAnZG93bmxvYWQnID0gJ3N0YXInO1xuICAvKiogU2hvdyB0aGUgb3B0aW9uYWwgd2F0Y2hlcnMgb3IgZm9ya3MgY291bnQgKi9cbiAgQElucHV0KCkgY291bnQgPSBmYWxzZTtcbiAgLyoqIFVzZSB0aGUgZ2l0aHViIGxvZ28gYXMgdGhlIGljb24gKi9cbiAgQElucHV0KCkgc3RhbmRhcmRJY29uID0gZmFsc2U7XG4gIC8qKiBTcGVjaWZpZXMgd2hlcmUgdG8gb3BlbiB0aGUgbGlua2VkIGdpdGh1YiBVUkwuICovXG4gIEBJbnB1dCgpIHRhcmdldDpcbiAgICB8ICdfYmxhbmsnIC8vIE9wZW5zIHRoZSBsaW5rZWQgZG9jdW1lbnQgaW4gYSBuZXcgd2luZG93IG9yIHRhYlxuICAgIHwgJ19zZWxmJyAvLyBPcGVucyB0aGUgbGlua2VkIGRvY3VtZW50IGluIHRoZSBzYW1lIGZyYW1lIGFzIGl0IHdhcyBjbGlja2VkICh0aGlzIGlzIGRlZmF1bHQpXG4gICAgfCAnX3BhcmVudCcgLy8gT3BlbnMgdGhlIGxpbmtlZCBkb2N1bWVudCBpbiB0aGUgcGFyZW50IGZyYW1lXG4gICAgfCAnX3RvcCcgPSAnX3NlbGYnOyAvLyBPcGVucyB0aGUgbGlua2VkIGRvY3VtZW50IGluIHRoZSBmdWxsIGJvZHkgb2YgdGhlIHdpbmRvd1xuICB0ZXh0ID0gJyc7XG4gIGJ1dHRvbkhyZWYgPSAnJztcbiAgY291bnRlckhyZWYgPSAnJztcbiAgY291bnRlcj86IG51bWJlcjtcbiAgY291bnRlckxhYmVsID0gJyc7XG4gIGNvdW50QXR0ciA9ICcnO1xuXG4gIG5nT25DaGFuZ2VzKCkge1xuICAgIHRoaXMudGV4dCA9ICdTdGFyJztcbiAgICB0aGlzLmNvdW50QXR0ciA9ICdzdGFyZ2F6ZXJzX2NvdW50JztcbiAgICB0aGlzLmNvdW50ZXJMYWJlbCA9ICcgc3RhcmdhemVycyc7XG4gICAgdGhpcy5idXR0b25IcmVmID0gJ2h0dHBzOi8vZ2l0aHViLmNvbS8nICsgdGhpcy51c2VyICsgJy8nICsgdGhpcy5yZXBvO1xuICAgIHRoaXMuY291bnRlckhyZWYgPSAnaHR0cHM6Ly9naXRodWIuY29tLycgKyB0aGlzLnVzZXIgKyAnLycgKyB0aGlzLnJlcG8gKyAnL3N0YXJnYXplcnMnO1xuXG4gICAgaWYgKHRoaXMuY291bnQgJiYgdGhpcy51c2VyICYmIHRoaXMudHlwZSAhPT0gJ2Rvd25sb2FkJykge1xuICAgICAgdGhpcy5mZXRjaCgpO1xuICAgIH1cbiAgfVxuICBmZXRjaCgpIHtcbiAgICBsZXQgc3ViOiBQcm9taXNlPGFueT47XG4gICAgaWYgKHRoaXMudHlwZSA9PT0gJ2ZvbGxvdycpIHtcbiAgICAgIHN1YiA9IGdldFVzZXIodGhpcy51c2VyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCF0aGlzLnJlcG8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc3ViID0gZ2V0UmVwbyh0aGlzLnVzZXIsIHRoaXMucmVwbyk7XG4gICAgfVxuICAgIHN1Yi50aGVuKGQgPT4gdGhpcy5jYWxsYmFjayhkKSk7XG4gIH1cbiAgY2FsbGJhY2soZGF0YTogYW55KSB7XG4gICAgdGhpcy5jb3VudGVyID0gZGF0YVt0aGlzLmNvdW50QXR0ciA/PyAnJ107XG4gIH1cbn1cbiJdfQ==